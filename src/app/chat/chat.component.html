<mat-card class="chat-wrapper">
  <mat-card-title>⛰️ Sierra Outfitters Chat</mat-card-title>

  <mat-card-content>
    <div #history class="chat-history">
      <div *ngFor="let msg of conversation">
        <div *ngIf="msg.role === 'user'" class="user">
          <strong>You:</strong> {{ msg.content }}
        </div>

        <div *ngIf="msg.role === 'assistant' && msg.source === 'llm'" class="assistant">
          <strong>Agent:</strong>
          <span [innerHTML]="msg.content"></span>
        </div>

      </div>
    </div>

    <mat-form-field appearance="fill" style="width:100%;">
      <mat-label>Your Message</mat-label>
      <input
        matInput
        [(ngModel)]="userInput"
        (keyup.enter)="sendMessage()"
      />
    </mat-form-field>

    <button mat-raised-button color="primary" (click)="sendMessage()">Send</button>
  </mat-card-content>
</mat-card>
